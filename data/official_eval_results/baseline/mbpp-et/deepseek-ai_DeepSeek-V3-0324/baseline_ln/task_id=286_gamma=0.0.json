{
  "code": "def max_sub_array_sum_repeated(arr, n, k):\n    def kadane(arr):\n        max_current = max_global = arr[0]\n        for num in arr[1:]:\n            max_current = max(num, max_current + num)\n            if max_current > max_global:\n                max_global = max_current\n        return max_global\n    \n    max_kadane = kadane(arr)\n    if k == 1:\n        return max_kadane\n    \n    total_sum = sum(arr)\n    max_prefix = max_suffix = -float('inf')\n    current_prefix = current_suffix = 0\n    \n    for i in range(n):\n        current_prefix += arr[i]\n        if current_prefix > max_prefix:\n            max_prefix = current_prefix\n    \n    for i in range(n-1, -1, -1):\n        current_suffix += arr[i]\n        if current_suffix > max_suffix:\n            max_suffix = current_suffix\n    \n    if total_sum > 0:\n        return max(max_kadane, max_suffix + (k-2)*total_sum + max_prefix)\n    else:\n        return max(max_kadane, max_suffix + max_prefix)",
  "results": {
    "assert max_sub_array_sum_repeated([10, 20, -30, -1], 4, 3) == 30": {
      "result": true,
      "time": 0.04779934883117676,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-1, 10, 20], 3, 2) == 59": {
      "result": true,
      "time": 0.053529977798461914,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-1, -2, -3], 3, 3) == -1": {
      "result": true,
      "time": 0.04801678657531738,
      "error": null
    },
    "assert max_sub_array_sum_repeated([11, 25, -25, -3], 2, 3) == 108": {
      "result": false,
      "time": 0.052338600158691406,
      "error": null
    },
    "assert max_sub_array_sum_repeated([12, 15, -31, 2], 1, 3) == 36": {
      "result": false,
      "time": 0.0577702522277832,
      "error": null
    },
    "assert max_sub_array_sum_repeated([12, 16, -35, -1], 1, 1) == 12": {
      "result": false,
      "time": 0.056249141693115234,
      "error": null
    },
    "assert max_sub_array_sum_repeated([11, 16, -27, 1], 4, 8) == 34": {
      "result": true,
      "time": 0.053649187088012695,
      "error": null
    },
    "assert max_sub_array_sum_repeated([10, 20, -26, -3], 1, 1) == 10": {
      "result": false,
      "time": 0.04393506050109863,
      "error": null
    },
    "assert max_sub_array_sum_repeated([8, 19, -26, -1], 4, 3) == 27": {
      "result": true,
      "time": 0.04828047752380371,
      "error": null
    },
    "assert max_sub_array_sum_repeated([6, 18, -35, 4], 2, 7) == 168": {
      "result": false,
      "time": 0.05007672309875488,
      "error": null
    },
    "assert max_sub_array_sum_repeated([5, 15, -34, -6], 1, 1) == 5": {
      "result": false,
      "time": 0.056902408599853516,
      "error": null
    },
    "assert max_sub_array_sum_repeated([5, 19, -28, 2], 1, 5) == 25": {
      "result": false,
      "time": 0.07138180732727051,
      "error": null
    },
    "assert max_sub_array_sum_repeated([13, 15, -34, 0], 1, 8) == 104": {
      "result": false,
      "time": 0.07475543022155762,
      "error": null
    },
    "assert max_sub_array_sum_repeated([9, 24, -31, 2], 2, 3) == 99": {
      "result": false,
      "time": 0.0545964241027832,
      "error": null
    },
    "assert max_sub_array_sum_repeated([9, 21, -26, 0], 3, 4) == 42": {
      "result": true,
      "time": 0.06925058364868164,
      "error": null
    },
    "assert max_sub_array_sum_repeated([10, 16, -32, 1], 1, 3) == 30": {
      "result": false,
      "time": 0.06292057037353516,
      "error": null
    },
    "assert max_sub_array_sum_repeated([12, 15, -32, -1], 3, 1) == 27": {
      "result": true,
      "time": 0.07127785682678223,
      "error": null
    },
    "assert max_sub_array_sum_repeated([15, 18, -29, 3], 2, 7) == 231": {
      "result": false,
      "time": 0.0727241039276123,
      "error": null
    },
    "assert max_sub_array_sum_repeated([10, 24, -35, -3], 2, 1) == 34": {
      "result": true,
      "time": 0.06295561790466309,
      "error": null
    },
    "assert max_sub_array_sum_repeated([12, 20, -30, 3], 1, 6) == 72": {
      "result": false,
      "time": 0.06791329383850098,
      "error": null
    },
    "assert max_sub_array_sum_repeated([11, 16, -31, 3], 4, 8) == 30": {
      "result": true,
      "time": 0.06342697143554688,
      "error": null
    },
    "assert max_sub_array_sum_repeated([10, 17, -31, -2], 2, 7) == 189": {
      "result": false,
      "time": 0.06980633735656738,
      "error": null
    },
    "assert max_sub_array_sum_repeated([5, 18, -33, -2], 1, 2) == 10": {
      "result": false,
      "time": 0.0432584285736084,
      "error": null
    },
    "assert max_sub_array_sum_repeated([14, 15, -31, -2], 3, 7) == 29": {
      "result": true,
      "time": 0.050440311431884766,
      "error": null
    },
    "assert max_sub_array_sum_repeated([11, 19, -33, 0], 2, 5) == 150": {
      "result": false,
      "time": 0.05681943893432617,
      "error": null
    },
    "assert max_sub_array_sum_repeated([10, 24, -32, 4], 3, 4) == 40": {
      "result": false,
      "time": 0.05707693099975586,
      "error": null
    },
    "assert max_sub_array_sum_repeated([15, 20, -25, 2], 3, 6) == 85": {
      "result": false,
      "time": 0.0579831600189209,
      "error": null
    },
    "assert max_sub_array_sum_repeated([11, 25, -25, -5], 1, 7) == 77": {
      "result": false,
      "time": 0.05150413513183594,
      "error": null
    },
    "assert max_sub_array_sum_repeated([9, 24, -27, 0], 3, 8) == 75": {
      "result": true,
      "time": 0.04712986946105957,
      "error": null
    },
    "assert max_sub_array_sum_repeated([8, 21, -27, -2], 2, 3) == 87": {
      "result": false,
      "time": 0.05482196807861328,
      "error": null
    },
    "assert max_sub_array_sum_repeated([15, 17, -28, -3], 2, 1) == 32": {
      "result": true,
      "time": 0.05291318893432617,
      "error": null
    },
    "assert max_sub_array_sum_repeated([11, 24, -26, -4], 3, 2) == 44": {
      "result": true,
      "time": 0.05548667907714844,
      "error": null
    },
    "assert max_sub_array_sum_repeated([15, 21, -32, -4], 4, 6) == 36": {
      "result": true,
      "time": 0.04705023765563965,
      "error": null
    },
    "assert max_sub_array_sum_repeated([11, 15, -34, 4], 1, 2) == 22": {
      "result": false,
      "time": 0.06439518928527832,
      "error": null
    },
    "assert max_sub_array_sum_repeated([14, 23, -25, 4], 2, 6) == 222": {
      "result": false,
      "time": 0.06103777885437012,
      "error": null
    },
    "assert max_sub_array_sum_repeated([12, 19, -34, 4], 4, 3) == 36": {
      "result": true,
      "time": 0.06650757789611816,
      "error": null
    },
    "assert max_sub_array_sum_repeated([0, 11, 18], 2, 3) == 33": {
      "result": false,
      "time": 0.05871891975402832,
      "error": null
    },
    "assert max_sub_array_sum_repeated([1, 14, 21], 2, 5) == 75": {
      "result": false,
      "time": 0.0688924789428711,
      "error": null
    },
    "assert max_sub_array_sum_repeated([3, 8, 22], 1, 2) == 6": {
      "result": false,
      "time": 0.0672769546508789,
      "error": null
    },
    "assert max_sub_array_sum_repeated([4, 13, 21], 3, 3) == 114": {
      "result": true,
      "time": 0.05425882339477539,
      "error": null
    },
    "assert max_sub_array_sum_repeated([3, 9, 22], 1, 5) == 15": {
      "result": false,
      "time": 0.06815099716186523,
      "error": null
    },
    "assert max_sub_array_sum_repeated([2, 9, 23], 2, 7) == 77": {
      "result": false,
      "time": 0.06564569473266602,
      "error": null
    },
    "assert max_sub_array_sum_repeated([0, 12, 22], 2, 2) == 24": {
      "result": false,
      "time": 0.07392287254333496,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-6, 6, 20], 3, 6) == 126": {
      "result": true,
      "time": 0.07179403305053711,
      "error": null
    },
    "assert max_sub_array_sum_repeated([4, 7, 22], 1, 4) == 16": {
      "result": false,
      "time": 0.052518606185913086,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-1, 12, 16], 2, 7) == 78": {
      "result": false,
      "time": 0.04105544090270996,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-5, 11, 20], 2, 6) == 41": {
      "result": false,
      "time": 0.06805157661437988,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-5, 8, 18], 1, 6) == -5": {
      "result": false,
      "time": 0.05748605728149414,
      "error": null
    },
    "assert max_sub_array_sum_repeated([2, 12, 25], 3, 7) == 273": {
      "result": true,
      "time": 0.06267786026000977,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-3, 9, 17], 3, 3) == 72": {
      "result": true,
      "time": 0.06261634826660156,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-5, 12, 15], 2, 2) == 19": {
      "result": false,
      "time": 0.0677647590637207,
      "error": null
    },
    "assert max_sub_array_sum_repeated([2, 9, 23], 3, 1) == 34": {
      "result": true,
      "time": 0.06621503829956055,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-4, 6, 19], 3, 1) == 25": {
      "result": true,
      "time": 0.04243755340576172,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-2, 10, 20], 1, 5) == -2": {
      "result": false,
      "time": 0.056020498275756836,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-6, 7, 25], 1, 1) == -6": {
      "result": false,
      "time": 0.06917238235473633,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-4, 8, 22], 2, 1) == 8": {
      "result": false,
      "time": 0.05007171630859375,
      "error": null
    },
    "assert max_sub_array_sum_repeated([2, 12, 25], 3, 2) == 78": {
      "result": true,
      "time": 0.0613865852355957,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-5, 14, 17], 1, 5) == -5": {
      "result": false,
      "time": 0.04522395133972168,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-5, 5, 15], 2, 1) == 5": {
      "result": false,
      "time": 0.06038832664489746,
      "error": null
    },
    "assert max_sub_array_sum_repeated([3, 12, 15], 2, 1) == 15": {
      "result": false,
      "time": 0.04425525665283203,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-3, 7, 22], 3, 1) == 29": {
      "result": true,
      "time": 0.04114484786987305,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-2, 9, 24], 1, 1) == -2": {
      "result": false,
      "time": 0.04141092300415039,
      "error": null
    },
    "assert max_sub_array_sum_repeated([1, 13, 15], 2, 3) == 42": {
      "result": false,
      "time": 0.04302239418029785,
      "error": null
    },
    "assert max_sub_array_sum_repeated([4, 7, 23], 2, 4) == 44": {
      "result": false,
      "time": 0.044944047927856445,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-3, 15, 20], 2, 7) == 87": {
      "result": false,
      "time": 0.055670738220214844,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-6, 6, 15], 3, 7) == 111": {
      "result": true,
      "time": 0.05317544937133789,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-5, 15, 22], 3, 2) == 69": {
      "result": true,
      "time": 0.05580425262451172,
      "error": null
    },
    "assert max_sub_array_sum_repeated([3, 14, 18], 1, 2) == 6": {
      "result": false,
      "time": 0.05087161064147949,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-6, 15, 18], 3, 2) == 60": {
      "result": true,
      "time": 0.05350852012634277,
      "error": null
    },
    "assert max_sub_array_sum_repeated([0, -4, 2], 2, 6) == 0": {
      "result": false,
      "time": 0.052918434143066406,
      "error": null
    },
    "assert max_sub_array_sum_repeated([3, -5, -2], 3, 5) == 3": {
      "result": true,
      "time": 0.046860694885253906,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-1, -2, 2], 1, 4) == -1": {
      "result": false,
      "time": 0.048666954040527344,
      "error": null
    },
    "assert max_sub_array_sum_repeated([2, -7, -6], 1, 2) == 4": {
      "result": true,
      "time": 0.06017875671386719,
      "error": null
    },
    "assert max_sub_array_sum_repeated([3, -5, 0], 3, 4) == 3": {
      "result": true,
      "time": 0.060942888259887695,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-4, 2, 1], 3, 5) == 3": {
      "result": true,
      "time": 0.04508566856384277,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-1, -5, -1], 1, 2) == -1": {
      "result": true,
      "time": 0.050580739974975586,
      "error": null
    },
    "assert max_sub_array_sum_repeated([3, 0, -3], 2, 4) == 12": {
      "result": false,
      "time": 0.0620875358581543,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-3, 1, -1], 2, 8) == 1": {
      "result": true,
      "time": 0.05668377876281738,
      "error": null
    },
    "assert max_sub_array_sum_repeated([2, -4, -2], 1, 4) == 8": {
      "result": false,
      "time": 0.06050515174865723,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-6, 2, -8], 2, 8) == 2": {
      "result": true,
      "time": 0.050789594650268555,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-2, -1, -6], 3, 8) == -1": {
      "result": true,
      "time": 0.06508421897888184,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-5, -3, -1], 3, 2) == -1": {
      "result": true,
      "time": 0.056743621826171875,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-3, -1, -2], 3, 6) == -1": {
      "result": true,
      "time": 0.04818868637084961,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-6, -6, -5], 2, 5) == -6": {
      "result": false,
      "time": 0.047827959060668945,
      "error": null
    },
    "assert max_sub_array_sum_repeated([2, 1, -7], 2, 3) == 9": {
      "result": false,
      "time": 0.06724786758422852,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-2, -3, -1], 3, 5) == -1": {
      "result": true,
      "time": 0.049386024475097656,
      "error": null
    },
    "assert max_sub_array_sum_repeated([0, -6, -8], 2, 8) == 0": {
      "result": true,
      "time": 0.05208182334899902,
      "error": null
    },
    "assert max_sub_array_sum_repeated([4, -4, 1], 1, 6) == 24": {
      "result": false,
      "time": 0.05806875228881836,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-3, 1, 2], 3, 6) == 3": {
      "result": true,
      "time": 0.04731440544128418,
      "error": null
    },
    "assert max_sub_array_sum_repeated([2, -1, -3], 1, 6) == 12": {
      "result": false,
      "time": 0.06401968002319336,
      "error": null
    },
    "assert max_sub_array_sum_repeated([2, -1, -7], 3, 8) == 2": {
      "result": true,
      "time": 0.0447697639465332,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-4, -7, -3], 2, 1) == -4": {
      "result": false,
      "time": 0.05445098876953125,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-1, 0, -3], 1, 5) == -1": {
      "result": false,
      "time": 0.04990863800048828,
      "error": null
    },
    "assert max_sub_array_sum_repeated([0, 1, -5], 2, 4) == 4": {
      "result": false,
      "time": 0.05821371078491211,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-4, -5, -5], 2, 2) == -4": {
      "result": true,
      "time": 0.061096906661987305,
      "error": null
    },
    "assert max_sub_array_sum_repeated([2, 2, -5], 1, 2) == 4": {
      "result": true,
      "time": 0.055735111236572266,
      "error": null
    },
    "assert max_sub_array_sum_repeated([2, -3, -6], 2, 8) == 2": {
      "result": true,
      "time": 0.043799400329589844,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-3, -4, -5], 1, 6) == -3": {
      "result": true,
      "time": 0.0584409236907959,
      "error": null
    },
    "assert max_sub_array_sum_repeated([3, -5, -3], 1, 1) == 3": {
      "result": true,
      "time": 0.054088592529296875,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-2, -3, -2], 3, 2) == -2": {
      "result": true,
      "time": 0.06559300422668457,
      "error": null
    },
    "assert max_sub_array_sum_repeated([4, -4, 2], 2, 3) == 4": {
      "result": false,
      "time": 0.06708812713623047,
      "error": null
    },
    "assert max_sub_array_sum_repeated([-4, -4, -5], 1, 7) == -4": {
      "result": true,
      "time": 0.0674445629119873,
      "error": null
    }
  },
  "passed": false,
  "accuracy": 0.46078431372549017,
  "general_error": "",
  "has_testcase_error": false
}